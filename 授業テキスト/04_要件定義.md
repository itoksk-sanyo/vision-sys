# 第4時：要件定義を学ぼう - アプリ開発の設計図を作る

## 🎯 今日の目標
作りたいアプリの「設計図」を書けるようになる！

---

## 📝 要件定義って何？

### 家を建てることに例えると...

| 家づくり | アプリ開発 |
|----------|-----------|
| どんな家にしたい？ | どんなアプリにしたい？ |
| 何部屋必要？ | どんな機能が必要？ |
| 予算はいくら？ | 開発期間は？ |
| いつまでに建てる？ | いつまでに完成？ |

**要件定義** = アプリの設計図を作ること

---

## 🏭 工場の課題を整理しよう

### よくある製造現場の問題

1. **品質検査の課題**
   ```
   😓 目視検査は疲れる
   😰 見逃しのリスク
   ⏰ 検査に時間がかかる
   👥 熟練者しかできない
   ```

2. **これをAIで解決！**
   ```
   🤖 AIが自動判定
   ✅ 見逃しを減らす
   ⚡ 高速で検査
   👨‍🎓 誰でも使える
   ```

### グループディスカッション（10分）

**話し合うこと**：
1. 実習や工場見学で見た課題は？
2. どんな検査があった？
3. 大変そうだったことは？

---

## 📋 5W1Hで要件を整理

### 要件定義の基本フレームワーク

| 項目 | 質問 | 傷検出アプリの例 |
|------|------|-----------------|
| **What** | 何を作る？ | 金属部品の傷を検出するAIアプリ |
| **Why** | なぜ必要？ | 検査の効率化と品質向上のため |
| **Who** | 誰が使う？ | 検査担当者（初心者でもOK） |
| **When** | いつ使う？ | 製品の最終検査工程で |
| **Where** | どこで使う？ | 検査室のPCまたはタブレット |
| **How** | どのように？ | カメラで撮影→AI判定→結果表示 |

### 実践：自分たちのアプリを5W1Hで整理

```markdown
## 私たちのアプリ：「○○検出AIアプリ」

### What（何を作る？）
- 

### Why（なぜ必要？）
- 
- 

### Who（誰が使う？）
- 主な利用者：
- スキルレベル：

### When（いつ使う？）
- 使用タイミング：
- 使用頻度：

### Where（どこで使う？）
- 使用場所：
- 使用デバイス：

### How（どのように使う？）
1. 
2. 
3. 
```

---

## 🎯 機能要件と非機能要件

### 機能要件（できること）

**必須機能**（Must Have）
- [ ] 画像をアップロードできる
- [ ] AIが良品/不良品を判定する
- [ ] 判定結果を表示する

**あったら良い機能**（Nice to Have）
- [ ] カメラで直接撮影
- [ ] 判定の確率を表示
- [ ] 履歴を保存
- [ ] レポート出力
- [ ] 複数画像の一括処理

### 非機能要件（品質や性能）

| 項目 | 要件 | 理由 |
|------|------|------|
| **処理速度** | 3秒以内に判定 | 作業効率のため |
| **判定精度** | 90%以上 | 実用レベルの確保 |
| **使いやすさ** | 説明書なしで使える | 誰でも使えるように |
| **可用性** | 営業時間中は常に使える | 生産に影響しないように |

---

## 📝 要件定義書を書いてみよう

### テンプレートを使った要件定義書

```markdown
# 傷検出AIアプリ要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
- 金属部品傷検出AIシステム

### 1.2 目的
- 目視検査の負担軽減
- 検査精度の向上
- 検査時間の短縮

### 1.3 期待される効果
- 検査時間を50%削減
- 見逃し率を10%以下に
- 新人でも検査可能に

## 2. 機能要件

### 2.1 必須機能（リリース時に必要）
| No | 機能名 | 説明 | 優先度 |
|----|--------|------|--------|
| 1 | 画像アップロード | JPG/PNG形式の画像を選択 | 高 |
| 2 | AI判定 | 良品/不良品を自動判定 | 高 |
| 3 | 結果表示 | 判定結果と確率を表示 | 高 |
| 4 | 結果保存 | 判定結果をCSVで保存 | 中 |

### 2.2 追加機能（将来的に実装）
| No | 機能名 | 説明 | 優先度 |
|----|--------|------|--------|
| 1 | カメラ連携 | Webカメラで直接撮影 | 中 |
| 2 | バッチ処理 | 複数画像を一括判定 | 低 |
| 3 | 統計表示 | 日別の検査結果グラフ | 低 |

## 3. 非機能要件

### 3.1 性能要件
- 応答時間：画像アップロードから結果表示まで3秒以内
- 同時利用：3人まで同時使用可能

### 3.2 品質要件
- 判定精度：90%以上（100個中90個以上正解）
- 可用性：営業日の8:00-17:00は99%以上稼働

### 3.3 ユーザビリティ要件
- 3クリック以内で判定完了
- エラー時は分かりやすいメッセージ表示
- スマートフォンでも使える画面設計

## 4. 制約条件

### 4.1 技術的制約
- 開発言語：Python
- フレームワーク：Gradio
- AI：Teachable Machine
- 実行環境：Google Colab

### 4.2 リソース制約
- 開発期間：6時間（授業3回分）
- 開発人数：4人チーム
- 予算：0円（無料ツールのみ）

### 4.3 その他の制約
- インターネット接続必須
- Chrome推奨（他ブラウザは未保証）

## 5. データ要件

### 5.1 学習データ
- 良品画像：100枚以上
- 不良品画像：100枚以上
- 画像形式：JPG、PNG
- 画像サイズ：640×480ピクセル以上

### 5.2 テストデータ
- 良品：20枚
- 不良品：20枚
- 学習データとは別に用意

## 6. 画面設計（ワイヤーフレーム）

### 6.1 メイン画面
```
┌─────────────────────────────┐
│  🔍 傷検出AIシステム         │
├─────────────────────────────┤
│                             │
│  [画像をドロップ]           │
│   または                    │
│  [ファイルを選択]           │
│                             │
├─────────────────────────────┤
│  判定結果：                 │
│  ○ 良品（信頼度：95%）     │
│                             │
│  [履歴を見る] [CSVダウンロード] │
└─────────────────────────────┘
```

## 7. 開発スケジュール

| 週 | 作業内容 | 成果物 |
|----|----------|--------|
| 1週目 | 要件定義・設計 | 要件定義書 |
| 2週目 | データ収集・モデル作成 | AIモデル |
| 3週目 | アプリ開発・テスト | 動作するアプリ |
| 4週目 | 改善・発表準備 | 完成版アプリ |

## 8. リスクと対策

| リスク | 影響度 | 対策 |
|--------|--------|------|
| 判定精度が低い | 高 | データを追加学習 |
| 開発が遅れる | 中 | 機能を絞る |
| チームメンバーが欠席 | 中 | 作業を分担・文書化 |
```

---

## 🎨 ワイヤーフレームを描こう

### 画面設計の基本

**紙に描くときのコツ**：
1. 四角で画面の枠を描く
2. ボタンは［ ］で囲む
3. 入力欄は＿＿＿で表現
4. 画像は×印の四角

### 必要な画面を考える

1. **メイン画面**（判定画面）
2. **結果詳細画面**
3. **履歴画面**
4. **設定画面**（あれば）

---

## 💡 AIに相談してみよう

### 要件定義をAIに手伝ってもらう

**ChatGPTへの質問例**：
```
私は工業高校生で、金属部品の傷検出AIアプリを作ります。
以下の条件があります：
- 使用者：工場の検査担当者
- 目的：検査の効率化
- 環境：タブレットで使用

他にどんな要件を考えるべきですか？
```

**AIからの回答を要件に追加**：
- セキュリティ要件
- データのバックアップ
- 操作ログの記録
- など

---

## 🎮 グループワーク

### 各グループで要件定義書を作成（20分）

1. **役割分担**
   - リーダー：全体調整
   - 書記：要件定義書作成
   - デザイナー：画面設計
   - 発表者：内容説明

2. **作成手順**
   1. 5W1Hを埋める（5分）
   2. 機能一覧を作る（5分）
   3. 画面を描く（5分）
   4. 見直し・調整（5分）

3. **発表準備**
   - 1グループ3分で発表
   - 特に工夫した点を説明

---

## 📊 要件定義のチェックリスト

### 提出前に確認！

- [ ] **目的が明確**：なぜこのアプリが必要か書いてある
- [ ] **利用者が明確**：誰が使うか具体的に書いてある
- [ ] **機能が具体的**：「○○ができる」と明確に書いてある
- [ ] **数値目標がある**：精度○%、○秒以内など
- [ ] **実現可能**：授業時間内に作れる規模
- [ ] **テスト方法**：どうやって確認するか書いてある

---

## 🤔 よくある質問

**Q: どこまで詳しく書けばいい？**
A: 他の人が読んで、同じものが作れるくらい詳しく。

**Q: 実現できるか分からない機能は？**
A: 「Nice to Have」に入れて、できたら実装。

**Q: 要件が変わったら？**
A: 変更履歴を残して更新。それが普通です。

---

## 📊 今日のまとめ

### できるようになったこと
- [ ] 5W1Hで要件を整理できる
- [ ] 機能要件と非機能要件を区別できる
- [ ] 要件定義書が書ける
- [ ] ワイヤーフレームが描ける

### 要件定義の重要性
1. **手戻りを防ぐ**：最初に決めておけば迷わない
2. **認識を合わせる**：チーム全員が同じゴールを目指せる
3. **進捗が分かる**：できたこと/できていないことが明確

### 次回予告
次回からいよいよ開発開始！
今日作った要件定義書を基に、実際にアプリを作っていきます。

---

## 🏠 宿題

1. **要件定義書の完成**
   - 授業で作った要件定義書を清書
   - GitHubの`docs`フォルダにアップロード
   - ファイル名：`requirements.md`

2. **AIへの質問**
   - 要件定義書をAIに見せて改善点を聞く
   - もらったアドバイスを3つメモ

3. **データ収集の準備**
   - 次回使う部品サンプルの確認
   - 撮影場所の下見

**提出物**：
- 要件定義書（Markdown形式）
- ワイヤーフレーム（写真でOK）
- AIからのアドバイスメモ